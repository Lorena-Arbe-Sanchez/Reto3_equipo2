document.addEventListener("DOMContentLoaded",function(){document.getElementById("formulario").addEventListener("submit",function(p){p.preventDefault();let e=[],l=document.getElementById("titulo").value.trim(),d=document.getElementById("descripcion").value.trim(),m=document.getElementById("idioma").value.trim(),s=document.getElementById("fecha_ini").value.trim(),r=document.getElementById("fecha_fin").value.trim(),f=document.getElementById("hora_inicio").value.trim(),g=document.getElementById("hora_fin").value.trim(),t=document.getElementById("plazas_totales").value.trim(),o=document.getElementById("plazas_minimas").value.trim(),h=document.getElementById("dia_1").value.trim(),u=document.getElementById("dia_2").value.trim(),a=document.getElementById("edad_minima").value.trim(),i=document.getElementById("edad_maxima").value.trim(),n=document.getElementById("imagen").files[0];(l===""||l.length>30)&&e.push("El título es obligatorio y no puede superar 30 caracteres."),(d===""||d.length>300)&&e.push("La descripción es obligatoria y no puede superar 300 caracteres."),s===""&&e.push("La fecha de inicio es obligatoria."),r===""&&e.push("La fecha de fin es obligatoria."),s>r&&e.push("La fecha de inicio debe ser anterior o igual a la fecha de fin.");let c=["L","M","X","J","V","S","D"];if(c.includes(h)||e.push("El día 1 debe ser un valor válido (L, M, X, J, V, S, D)."),u!==""&&!c.includes(u)&&e.push("El día 2 debe ser un valor válido (L, M, X, J, V, S, D) o estar vacío."),f===""&&e.push("La hora de inicio es obligatoria."),g===""&&e.push("La hora de fin es obligatoria."),(m===""||m.length>15)&&e.push("El idioma es obligatorio y no puede superar 15 caracteres."),(t===""||isNaN(t)||t<1)&&e.push("Las plazas totales son obligatorias y deben ser un número mayor que 0."),(o===""||isNaN(o)||o<1)&&e.push("Las plazas mínimas son obligatorias y deben ser un número mayor que 0."),a!==""&&(isNaN(a)||a<0)&&e.push("La edad mínima debe ser un número positivo."),i!==""&&(isNaN(i)||i<0)&&e.push("La edad máxima debe ser un número positivo."),a!==""&&i!==""&&parseInt(a)>parseInt(i)&&e.push("La edad mínima no puede ser mayor que la edad máxima."),n&&(["image/jpeg","image/png","image/jpg","image/gif","image/svg+xml"].includes(n.type)||e.push("El formato de la imagen no es válido. Solo se permiten JPEG, PNG, JPG, GIF o SVG."),n.size>2048e3&&e.push("La imagen no puede superar los 2MB.")),e.length>0){alert(e.join(`
`));return}this.submit()})});
