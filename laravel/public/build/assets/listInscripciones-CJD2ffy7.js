document.addEventListener("DOMContentLoaded",function(){const c=document.getElementById("centro_civico"),e=document.getElementById("actividad");function d(){localStorage.setItem("centroCivicoId",c.value),localStorage.setItem("actividadId",e.value)}function r(){const t=localStorage.getItem("centroCivicoId"),o=localStorage.getItem("actividadId");t&&(c.value=t),l(t,o)}function l(t,o){e.innerHTML='<option value="">Todas</option>';let s=t?`/actividad/centro/${t}`:"/actividad/todas";fetch(s).then(i=>i.json()).then(i=>{i.forEach(a=>{const n=document.createElement("option");n.value=a.id,n.textContent=a.titulo,o&&a.id===o&&(n.selected=!0),e.appendChild(n)})})}c.addEventListener("change",function(){const t=this.value;l(t),d()}),e.addEventListener("change",d),r()});
